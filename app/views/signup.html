<!DOCTYPE {% extends "./layout.html" %}

{% block title %}My Profile{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12">

        <!-- Success Alert -->
        {% if updateSuccess %}
        <div class="alert alert-dismissable alert-success">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            Profile updated successfully.
        </div>
        {% endif %}
        
        <!-- Error Alert -->
        {% if updateError %}
        <div class="alert alert-dismissable alert-danger">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{ updateError }}
        </div>
        {% endif %}
    </div>
</div>

<!-- Profile Edit Form -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">Edit Profile</h3>
            </div>
            <div class="panel-body">
                <form role="form" method="post" action="/profile">
                    <!-- First Name -->
                    <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input type="text" class="form-control" id="firstName" name="firstName" 
                               value="{{ firstNameSafeString }}" placeholder="Enter first name" required>
                    </div>

                    <!-- Last Name -->
                    <div class="form-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" class="form-control" id="lastName" name="lastName" 
                               value="{{ lastName }}" placeholder="Enter last name" required>
                    </div>

                    <!-- SSN -->
                    <div class="form-group">
                        <label for="ssn">SSN</label>
                        <input type="text" class="form-control" id="ssn" name="ssn" 
                               value="{{ ssn }}" placeholder="Enter SSN" required>
                    </div>

                    <!-- Date of Birth -->
                    <div class="form-group">
                        <label for="dob">Date of Birth</label>
                        <input type="date" class="form-control" id="dob" name="dob" 
                               value="{{ dob }}" placeholder="Enter date of birth" required>
                    </div>

                    <!-- Bank Account -->
                    <div class="form-group">
                        <label for="bankAcc">Bank Account #</label>
                        <input type="text" class="form-control" id="bankAcc" name="bankAcc" 
                               value="{{ bankAcc }}" placeholder="Enter bank account number" required>
                    </div>

                    <!-- Bank Routing -->
                    <div class="form-group">
                        <label for="bankRouting">Bank Routing #</label>
                        <input type="text" class="form-control" id="bankRouting" name="bankRouting" 
                               value="{{ bankRouting }}" placeholder="Enter bank routing number" required>
                        <p class="help-block">Must be entered as digits with a suffix of #. For example: 0198212#</p>
                    </div>

                    <!-- Address -->
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" class="form-control" id="address" name="address" 
                               value="{{ address }}" placeholder="Enter address" required>
                    </div>

                    <!-- Website -->
                    <div class="form-group">
                        <label for="website">Website</label>
                        <input type="url" class="form-control" id="website" name="website" 
                               value="{{ website }}" placeholder="https://" pattern="https?://.*">
                    </div>

                    <!-- CSRF Token -->
                    <input type="hidden" name="_csrf" value="{{ csrftoken }}" />

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-default" name="submit">Submit</button>

                    <!-- External Profile Search Link -->
                    <a href="{{ firstNameSafeString }}" class="mt-2 d-block" target="_blank">Google search this profile by name</a>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}
